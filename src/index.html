<html>
	<head>
		<title>Tic-tac-toe</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="styles.css">
		<link rel="stylesheet" type="text/css" href="sweetalert.css">
	</head>
	<body>
		<header>
			<h1>TIC-TAC-TOE</h1>
		</header>
		<section>
			<div class="board">
				<div class="row">
					<div class="key one" onclick="mostrar(id)" id="1" >
					</div>
					<div class="key two" onclick="mostrar(id)" id="2">
					</div>
					<div class="key three" onclick="mostrar(id)" id="3">
					</div>
				</div>
				<div class="row">
					<div class="key four" onclick="mostrar(id)" id="4">
					</div>
					<div class="key five" onclick="mostrar(id)" id="5">
					</div>
					<div class="key six" onclick="mostrar(id)" id="6">
					</div>
				</div>
				<div class="row">
					<div class="key seven" onclick="mostrar(id)" id="7">
					</div>
					<div class="key eight" onclick="mostrar(id)" id="8">
					</div>
					<div class="key nine" onclick="mostrar(id)" id="9">
					</div>
				</div>
			</div>
		</section>
		<script src="sweetalert.min.js"></script>
		<script>
			var sw = 0, el = '', cont = 0
			function mostrar (id) {
				el = document.getElementById(id)
				var ban = 1
				if(ban == 1 && sw == 0 && el.getAttribute('name') != 'checkedx' && el.getAttribute('name') != 'checkedo'){
					let img = document.createElement('img')
					img.src = 'logo.png'
					img.width = '50'
					img.height = '30'
					img.className = 'img'
					document.getElementById(id).appendChild(img)
					el.setAttribute('name', 'checkedx')
					ban = 0
					sw = 1
					winner()
				} else if(sw == 1 && el.getAttribute('name') != 'checkedo' && el.getAttribute('name') != 'checkedx') {
					let img = document.createElement('img')
					img.src = 'circle.png'
					img.width = '50'
					img.height = '30'
					img.className = 'img'
					document.getElementById(id).appendChild(img)
					sw = 0
					el.setAttribute('name', 'checkedo')
					winner()
				}
			}

			function winner () {
				if (document.getElementById('1').getAttribute('name') == 'checkedx' && document.getElementById('2').getAttribute('name') == 'checkedx' && document.getElementById('3').getAttribute('name') == 'checkedx') message()
				if (document.getElementById('1').getAttribute('name') == 'checkedo' && document.getElementById('2').getAttribute('name') == 'checkedo' && document.getElementById('3').getAttribute('name') == 'checkedo') message()
				if (document.getElementById('4').getAttribute('name') == 'checkedx' && document.getElementById('5').getAttribute('name') == 'checkedx' && document.getElementById('6').getAttribute('name') == 'checkedx') message()
				if (document.getElementById('4').getAttribute('name') == 'checkedo' && document.getElementById('5').getAttribute('name') == 'checkedo' && document.getElementById('6').getAttribute('name') == 'checkedo') message()
				if (document.getElementById('7').getAttribute('name') == 'checkedx' && document.getElementById('8').getAttribute('name') == 'checkedx' && document.getElementById('9').getAttribute('name') == 'checkedx') message()
				if (document.getElementById('7').getAttribute('name') == 'checkedo' && document.getElementById('8').getAttribute('name') == 'checkedo' && document.getElementById('9').getAttribute('name') == 'checkedo') message()
				if (document.getElementById('1').getAttribute('name') == 'checkedx' && document.getElementById('4').getAttribute('name') == 'checkedx' && document.getElementById('7').getAttribute('name') == 'checkedx') message()
				if (document.getElementById('1').getAttribute('name') == 'checkedo' && document.getElementById('4').getAttribute('name') == 'checkedo' && document.getElementById('7').getAttribute('name') == 'checkedo') message()
				if (document.getElementById('2').getAttribute('name') == 'checkedx' && document.getElementById('5').getAttribute('name') == 'checkedx' && document.getElementById('8').getAttribute('name') == 'checkedx') message()
				if (document.getElementById('2').getAttribute('name') == 'checkedo' && document.getElementById('5').getAttribute('name') == 'checkedo' && document.getElementById('8').getAttribute('name') == 'checkedo') message()
				if (document.getElementById('3').getAttribute('name') == 'checkedx' && document.getElementById('6').getAttribute('name') == 'checkedx' && document.getElementById('9').getAttribute('name') == 'checkedx') message()
				if (document.getElementById('3').getAttribute('name') == 'checkedo' && document.getElementById('6').getAttribute('name') == 'checkedo' && document.getElementById('9').getAttribute('name') == 'checkedo') message()
				if (document.getElementById('1').getAttribute('name') == 'checkedx' && document.getElementById('5').getAttribute('name') == 'checkedx' && document.getElementById('9').getAttribute('name') == 'checkedx') message()
				if (document.getElementById('1').getAttribute('name') == 'checkedo' && document.getElementById('5').getAttribute('name') == 'checkedo' && document.getElementById('9').getAttribute('name') == 'checkedo') message()
				if (document.getElementById('3').getAttribute('name') == 'checkedx' && document.getElementById('5').getAttribute('name') == 'checkedx' && document.getElementById('7').getAttribute('name') == 'checkedx') message()
				if (document.getElementById('3').getAttribute('name') == 'checkedo' && document.getElementById('5').getAttribute('name') == 'checkedo' && document.getElementById('7').getAttribute('name') == 'checkedo') message()
			}

			function message () {
				swal({
	              title: 'Ganaste!',
	              text: 'Â¿Quieres jugar de nuevo?',
	              showCancelButton: true,
	              confirmButtonText: 'Si',
	              cancelButtonText: 'No',
	              closeOnConfirm: true
	            }, function(ok) {
	                if(ok) {
	                	let elem = document.getElementsByClassName('img')
	                	while(elem.length!=0){
	                		elem[0].remove()
	                	}
	                	/*let parent = document.getElementsByName('checkedo')
	                	var child = ''
	                	console.log(parent.length)
	                	for (var i = 0; i < parent.length; i++) {
	                		if(parent[i].getAttribute('name') == 'checkedo' || parent[i].getAttribute('name') == 'checkedx') {
		                		child = parent[i].getElementsByClassName('img')
		                		console.log(child)
		                		child.remove()
		                		parent[i].removeChild(child)
	                		}
	                	}*/
	                	/*let obj = document.getElementsByClassName('key')
	                	obj.forEach(function (element) {
	                		element.removeAttribute('name')
	                	})*/
	                	for (var i = 1; i <= 9; i++) {
	                		document.getElementById(i).removeAttribute('name');
	                	}
	                }
	            })
			}
		</script>
	</body>
</html>